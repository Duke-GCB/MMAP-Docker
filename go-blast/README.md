# go-blast

A docker image for running [NCBI BLAST+](http://blast.ncbi.nlm.nih.gov/Blast.cgi?PAGE_TYPE=BlastDocs&DOC_TYPE=Download), with a local blast database - designed for querying the Gene Ontology databases.

# Running

The Docker image built by the [Dockerfile](Dockerfile) is designed to be used by [docker-pipeline](https://github.com/Duke-GCB/docker-pipeline).

blast+ is installed via apt-get. The image's default command, [go-blast.sh](go-blast.sh) is built to replace [run_BLAST.py](https://github.com/YoderLab/MMAP/blob/a33ce0eee281d4d4aaf42ef02693c4356b7bbce1/src/core/component/run_BLAST.py) from YoderLab/MMAP.

# Environment Variables

|         Variable        | Description                   |  Type  | Required? | Default |
|-------------------------|-------------------------------|--------|-----------|---------|
| CONT_INPUT_ORFS_FILE   | File containing sequence ORFs to query | Input  | **Yes**   | |
| CONT_INPUT_BLAST_DB | The path to the blastdb to use | Input | **Yes**   | |
| CONT_OUTPUT_BLAST_RESULTS | Results file, in [BLAST CSV format](http://www.ncbi.nlm.nih.gov/books/NBK279675/) with subject titles (outfmt `10 std stitle`) | Output | **Yes** | |
| CONT_BLAST_EVALUE | BLAST [evalue](http://blast.ncbi.nlm.nih.gov/Blast.cgi?CMD=Web&PAGE_TYPE=BlastDocs&DOC_TYPE=FAQ#expect) | Parameter | No   | 1e-15 |
| CONT_BLAST_SEG | BLAST [seg](http://blast.ncbi.nlm.nih.gov/Blast.cgi?CMD=Web&PAGE_TYPE=BlastDocs&DOC_TYPE=FAQ#LCR) | Parameter | No   | yes |

## Notes

1. The __CONT_INPUT_BLAST_DB__ can be generated by [makeblastdb-go](../makeblastdb-go). 
2. The CSV format is used in the output for consumption by [extract-go-terms](../extract-go-terms).